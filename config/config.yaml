# ==============================================================================
# 목적 : Configuration 파일
# 최초 작업자 : (AI솔루션/박태원)
# 최초 작업일 : 2026-01-15
# AI 활용 여부 :
# ==============================================================================

paths:
  data_folder: "/mnt/d/스마트제조혁신기술개발/data"
  input_pdf: "1.섬유소재와 전처리 공정 기술의 이해.pdf"
  output_dir: "scratch"

render:
  scale: 3.0

cache:
  use_md_cache: True

vlm:
  url: "http://211.184.184.238:8004/v1/chat/completions"
  model: "deepseek-ai/DeepSeek-OCR"
  api_key: ""
  timeout_sec: 3600

prompt_ocr: |
  <image>
  <|grounding|>Convert the document to markdown.

generation:
  max_tokens: 2048
  temperature: 0.0

image_desc:
  enabled: true
  max_tokens: 512
  temperature: 0.0

prompt_img_desc: "<image>\nDescribe this image in detail."

opensearch:
  url: "http://localhost:9200"
  index: "pdf_chunks_v1"

qdrant:
  url: "http://localhost:6333"
  collection: "pdf_chunks_v1_vec"
  distance: "COSINE"

neo4j:
  uri: "bolt://localhost:7687"
  username: "neo4j"
  password: "12341234"

embedding:
  ollama_base_url: "http://localhost:11434"
  model: "qwen3-embedding:8b"
  timeout_sec: 120
  max_batch_size: 8
  truncate: true

postgres:
  dsn: "postgresql://postgres:postgres@localhost:5432/postgres"
  connect_timeout_sec: 10

minio:
  endpoint: "localhost:9000"
  access_key: "minio"
  secret_key: "miniostorage"
  bucket: "raw-documents"
  secure: false

ingest:
  batch_size_opensearch: 500
  batch_size_qdrant: 256
  pipeline_version: null
  config_hash: null

chunking:
  max_chunk_chars: 1200
  min_chunk_chars: 80
  join_target_chars: 900

image_crop:
  pad_ratio: 0.02

debug:
  draw_bboxes: false

image_filter:
  enabled: true
  stddev_min: 2.0
  mode: "grayscale"